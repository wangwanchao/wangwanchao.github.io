---
layout: '[post]'
title: HTTP协议
tags: NetWork
categories: NetWork
date: 2018-11-21 17:54:35
---
HTTP协议一直在演进，最近出了HTTP3，基于UDP协议的QUIC协议

<!-- more -->

## HTTP1.0 ##


## HTTP1.1 ##

### http1.0和http1.1的比较 ###

1. http1.0需要keep-alive参数告知服务器建立一个长连接，http1.1默认支持keep-alive
2. http1.0没有host域的，http1.1才支持这个参数
3. http1.1支持只发送header信息


## HTTP2.0 ##

	http2.0基于SPDY协议
	http2.0采用二进制格式，而非文本格式
	http2.0是完全多路复用的，而非有序阻塞的(只需一个连接即可实现并行); http1.x线端阻塞问题，http1.1流水线技术
	http2.0使用报头压缩，降低了开销
	http2.0可以将响应主动推送到客户端缓存
	
SPDY协议：Google开发的下一代网络协议，并不是用来替代HTTP协议，而是对HTTP协议的增强。目前支持的有Netty和Nginx

1. 多路复用请求：在单个SPDY连接能并发的发起请求，并不限制请求数；
2. 请求优先级：客户端能请求某个资源被优先传输。这避免了高优先级请求被非关键资源堵塞网络通道的问题；
3. 头部压缩：客户端现在发送了大量冗余的HTTP头部信息。因为一个页面可能有50到100个子请求，这些数据是巨大的；
4. 服务端推送流：服务端能向客户端推送数据不需要客户端发起一个请求

### 缺点： ###

需要客户端和服务器同时支持SPDY

协议解析复杂

### SPDY与http1.1的比较 ###

1. 一个SPDY连接允许建立多条stram，并发多个HTTP请求；http1.1一个连接只能处理一个请求
2. spdy请求可以具有优先级，客户端可以要求服务器优先发送重要资源；http1.1一个非关键请求可以阻塞服务器对后面请求的处理
3. spdy允许压缩头部，减少HTTP头部大小，减少带宽占用；http1.1头部冗余，User-Agent、Host重复发送
4. spdy服务器可以主动给客户端推送数据；http1.1只要客户端可以发送请求


## HTTP3 ##